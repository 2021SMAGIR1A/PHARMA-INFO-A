DROP TABLE IF EXISTS VILLE ;
CREATE TABLE VILLE (id_VILLE BIGINT AUTO_INCREMENT NOT NULL,
nom_VILLE VARCHAR(50),
PRIMARY KEY (id_VILLE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS COMMUNE ;
CREATE TABLE COMMUNE (id_COMMUNE BIGINT AUTO_INCREMENT NOT NULL,
nom_COMMUNE VARCHAR(50),
id_VILLE **NOT FOUND**,
PRIMARY KEY (id_COMMUNE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS PHARMACIE ;
CREATE TABLE PHARMACIE (id_PHARMACIE BIGINT(4) AUTO_INCREMENT NOT NULL,
nom_PHARMACIE VARCHAR(50),
latitude_PHARMACIE VARCHAR(10),
longitude_PHARMACIE VARCHAR(10),
nom_proprietaire_PHARMACIE VARCHAR(50),
contact_PHARMACIE VARCHAR(15),
id_COMMUNE **NOT FOUND**(4),
PRIMARY KEY (id_PHARMACIE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS ASSURANCE ;
CREATE TABLE ASSURANCE (id_ASSURANCE BIGINT(4) AUTO_INCREMENT NOT NULL,
nom_ASSURANCE VARCHAR(50),
PRIMARY KEY (id_ASSURANCE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS SOUS_TRAITER ;
CREATE TABLE SOUS_TRAITER (id_PHARMACIE **NOT FOUND**(4) AUTO_INCREMENT NOT NULL,
id_ASSURANCE **NOT FOUND**(4) NOT NULL,
PRIMARY KEY (id_PHARMACIE,
 id_ASSURANCE)) ENGINE=InnoDB;

ALTER TABLE COMMUNE ADD CONSTRAINT FK_COMMUNE_id_VILLE FOREIGN KEY (id_VILLE) REFERENCES VILLE (id_VILLE);

ALTER TABLE PHARMACIE ADD CONSTRAINT FK_PHARMACIE_id_COMMUNE FOREIGN KEY (id_COMMUNE) REFERENCES COMMUNE (id_COMMUNE);
ALTER TABLE SOUS_TRAITER ADD CONSTRAINT FK_SOUS_TRAITER_id_PHARMACIE FOREIGN KEY (id_PHARMACIE) REFERENCES PHARMACIE (id_PHARMACIE);
ALTER TABLE SOUS_TRAITER ADD CONSTRAINT FK_SOUS_TRAITER_id_ASSURANCE FOREIGN KEY (id_ASSURANCE) REFERENCES ASSURANCE (id_ASSURANCE);
